Шаблон: Хранитель (Memento)
=============================================================
Цель:

Сохранить внутреннее состояние объекта за его пределами

===============================================================
Для чего используется:

Фиксирование внутреннего состояния объекта за его пределами не нарушая
инкапсуляцию и восстановление объекта в случае необходимости

===============================================================
Пример использования:

- необходимо сохранить текущее состояние объекта или его части и восстановление
в будущем, но прямое получение состояния раскрывает детали реализации и
нарушает инкапсуляцию объекта
===============================================================
Шаги Реализации:

1. Определите класс создателя, объекты которого должны создавать снимки
своего состояния.

2. Создайте класс снимка и опишите в нём все те же поля, которые имеются
   в оригинальном классе-создателе.

3. Сделайте объекты снимков неизменяемыми. Они должны получать начальные
   значения только один раз, через свой конструктор.

4. Если ваш язык программирования это позволяет, сделайте класс снимка
   вложенным в класс создателя. Если нет, извлеките из класса снимка пустой интерфейс, который будет доступен остальным объектам программы. Впоследствии вы можете добавить в этот интерфейс некоторые вспомогательные методы, дающие доступ к метаданным снимка, однако прямой доступ к данным создателя должен быть исключён.

5. Добавьте в класс создателя метод получения снимков. Создатель должен
   создавать новые объекты снимков, передавая значения своих полей через
   конструктор.

6. Сигнатура метода должна возвращать снимки через ограниченный интерфейс,
   если он у вас есть. Сам класс должен работать с конкретным классом
   снимка.

7. Добавьте в класс создателя метод восстановления из снимка. Что касается
   привязки к типам, руководствуйтесь той же логикой, что и в пункте 4.

8. Опекуны, будь то история операций, объекты команд или нечто иное,
   должны знать о том, когда запрашивать снимки у создателя, где их
   хранить и когда восстанавливать.

9. Связь опекунов с создателями можно перенести внутрь снимков. В этом
   случае каждый снимок будет привязан к своему создателю и должен будет сам восстанавливать его состояние. Но это будет работать либо если классы снимков вложены в классы создателей, либо если создатели имеют соответствующие сеттеры для установки значений своих полей.
 ====================================================================
Преимущества и недостатки

+ Не нарушает инкапсуляции исходного объекта.
+ Упрощает структуру исходного объекта. Ему не нужно хранить историю версий своего состояния.
- Требует много памяти, если клиенты слишком часто создают снимки.
- Может повлечь дополнительные издержки памяти, если объекты, хранящие историю, не освобождают ресурсы, занятые устаревшими снимками.
- В некоторых языках (например, PHP, Python, JavaScript) сложно гарантировать, чтобы только исходный объект имел доступ к состоянию снимка.
